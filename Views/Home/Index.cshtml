@{
    ViewData["Title"] = "Home";
}
@model IEnumerable<Quizadilla.Models.Quiz>
@{
    var list = Model.ToList();
    Quizadilla.Models.Quiz? randomQuiz = null;

    if (list.Any())
    {
        var rng = new Random();
        randomQuiz = list[rng.Next(list.Count)];
    }
}


<div class="d-flex flex-wrap align-items-center justify-content-center gap-5 mt-3 px-4">
  <!-- Venstre del -->
  <div class="welcome-text">
    <h1 class="mb-2 fw-bold">Welcome to Quizadilla</h1>
    <p class="text-index fw-semibold">Your home for quizzes</p>
  </div>

  <!-- Høyre del -->
  <div class="todays-quiz">
    <h4 class="mb-3 text-center fw-semibold text-index-quiz">Today’s random quiz</h4>

    @if (randomQuiz == null)
    {
        <p class="text-center text-muted">No quizzes available yet.</p>
    }
    else
    {
        var theme = string.IsNullOrWhiteSpace(randomQuiz.Theme) ? "tomato" : randomQuiz.Theme;
        
        <div class="card ingredient-card theme-@theme">
            <div class="card-body">
                <h3 class="ingredient-title-top">@randomQuiz.Title</h3>

                <p class="ingredient-meta-top mb-3">
                    @((randomQuiz.Description?.Length > 80)
                        ? randomQuiz.Description.Substring(0, 80) + "…"
                        : randomQuiz.Description ?? "No description")
                </p>

                <div class="ingredient-actions-top d-flex gap-2">
                    <a class="btn btn-primary btn-sm"
                       asp-controller="Quiz"
                       asp-action="Quiz"
                       asp-route-id="@randomQuiz.QuizId">
                        Play
                    </a>
                </div>
            </div>
        </div>
    }
</div>

</div>


<section class="py-5">
  <div class="container">
    <h1 class="display-5 fw-bold text-center mb-2">Trending</h1>
    <p class="lead text-center text-muted mb-4">The most popular quizzes at the moment!</p>

    <div class="position-relative">
      <button class="scroll-btn scroll-btn-left"  type="button" data-target="#ingr-belt" aria-label="Scroll left">‹</button>
      <button class="scroll-btn scroll-btn-right" type="button" data-target="#ingr-belt" aria-label="Scroll right">›</button>

<div class="ingredient-scroller">
@foreach (var quiz in Model)
{
    var theme = string.IsNullOrWhiteSpace(quiz.Theme) ? "tomato" : quiz.Theme;
    <div class="ingredient-card card theme-@theme">
        <div class="ingredient-top"></div>
        <div class="card-body">
            <h5 class="ingredient-title">@quiz.Title</h5>
            <p class="ingredient-meta">@quiz.Description</p>
            <div class="ingredient-actions d-flex justify-content-between mt-3">
                <a asp-controller="Quiz" asp-action="Quiz" asp-route-id="@quiz.QuizId" class="btn btn-primary btn-sm">Play</a>
            </div>
        </div>
    </div>
}
</div>
      </div>
    </div>
  </div>
</section>

<div class="d-flex align-items-center justify-content-center mt-5 gap-4">
  <img src="~/img/ChatGPT-Logo.svg" alt="logo" width="200">
  <div>
    <h1 class="mb-2">We have quizzes for everyone!</h1>
    <p class="mb-0">Browse through our extensive library of quizzes or create your own!</p>
  </div>
</div>
<div class="d-flex align-items-center justify-content-center mt-3 gap-5">
    <a asp-controller="Quiz" asp-action="Discover" class="btn btn-primary">
    Browse through quizzes!
    </a>
    <a asp-controller="Quiz" asp-action="Create" class="btn btn-primary">
    Create your own Quiz!
    </a>
</div>
<br>
<br>
